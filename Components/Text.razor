@using RTB.BlazorUI.Extensions
@inherits RTBComponent

@code {
    [Parameter] public RenderFragment ChildContent { get; set; } = default!;
    [Parameter] public TextStyle Style { get; set; } = new();
    
    // Overriding Styles
    [Parameter] public string Element { get; set; } = "h1";
    [Parameter] public string? FontSize { get; set; }
    [Parameter] public string? FontWeight { get; set; }
    [Parameter] public string? LineHeight { get; set; }
    [Parameter] public string? Color { get; set; }
}

<Styled @bind-Classname="ComponentClass">
    font-size: @(FontSize ?? Style.FontSize);
    font-weight: @(FontWeight ?? Style.FontWeight);
    line-height: @(Style.LineHeight);
    color: @(Color ?? Style.Color);
</Styled>

@((_builder) => {
    var seq = 0;
    _builder.OpenElement(seq++, Element);
    _builder.AddAttribute(seq++, "class", ComponentClass);
    _builder.AddMultipleAttributes(seq++, CapturedAttributes.Without("class"));
    _builder.AddContent(seq++, ChildContent);
    _builder.CloseElement();
})

@code {
    public class TextStyle
    {
        public string FontSize { get; set; } = "1rem";
        public string FontWeight { get; set; } = "normal";
        public string LineHeight { get; set; } = "1.5";
        public string Color { get; set; } = "inherit";
    }
}