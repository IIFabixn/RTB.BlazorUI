@using RTB.BlazorUI.Services

@inject IJSRuntime JSRuntime
@inject DragDropService DragDropService

<div class="draggable-item"
     draggable="true"
     @ondragstart="HandleDragStart">
    @ChildContent
</div>

@code {
    [Parameter] public RenderFragment? ChildContent { get; set; }
    [Parameter] public object? ItemData { get; set; } // Data associated with the item

    private void HandleDragStart(DragEventArgs args)
    {
        // Store data using the service
        DragDropService.StartDrag(ItemData);
        args.DataTransfer.EffectAllowed = "move"; // Still useful to set the visual cue
        Console.WriteLine($"Drag Start: {ItemData}");
    }
}

<style>
    .draggable-item {
        padding: 10px;
        margin: 5px;
        border: 1px solid #ccc;
        background-color: #f9f9f9;
        cursor: grab;
        display: inline-block; /* Or block, depending on layout needs */
    }
    .draggable-item:active {
        cursor: grabbing;
    }
</style>
