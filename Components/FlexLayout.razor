@using RTB.BlazorUI.Extensions
@using RTB.BlazorUI.Helper
@using static RTB.BlazorUI.Helper.CssHelper

@inherits RTBComponent

@code {
    [Parameter] public RenderFragment ChildContent { get; set; } = default!;

    [Parameter] public bool Row { get; set; } = false;
    [Parameter] public bool Column { get; set; } = false;
    [Parameter] public bool Reverse { get; set; } = false;

    [Parameter] public string? Gap { get; set; }

    [Parameter] public string? AlignItem { get; set; }
    [Parameter] public string? JustifyContent { get; set; }
}

<StyledComponent Context="ComponentClass">
    <Style>
        <FlexDisplay Direction="@GetDirection()" Gap="@Gap" AlignItems="@AlignItem" JustifyContent="@JustifyContent" />
        @Style
    </Style>
    
    <ChildContent>
        <div class="@ClassBuilder.Create("FlexLayout", ComponentClass, Class).Build()" @attributes="@CapturedAttributes">
            @ChildContent
        </div>
    </ChildContent>
</StyledComponent>

@code {
    private string? GetDirection()
    {
        return (Row, Column, Reverse) switch
        {
            (true, false, false) => "row",
            (false, true, false) => "column",
            (true, false, true) => "row-reverse",
            (false, true, true) => "column-reverse",
            _ => null
        };
    }
}