@using RTB.Blazor.Styled.Helper

@inherits RTBStyleBase

@code {
    [Parameter, EditorRequired] public required RenderFragment ChildContent { get; set; }
    [Parameter, EditorRequired] public required BreakPoint BreakPoint { get; set; }

    private readonly StyleBuilder _builder = StyleBuilder.Start;

    protected override StyleBuilder BuildStyle(StyleBuilder builder)
    {
        if (!_builder.IsDirty) return builder;

        var style = _builder.Build();
        return builder.AppendMedia(BreakPoint, style);
    }
}

<CascadingValue Value="@_builder" IsFixed>
    @ChildContent
</CascadingValue>
